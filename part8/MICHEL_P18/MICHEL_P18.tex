
\resetcounters

\markboth{Michel et al.}{A New Web Interface for Saada}

\title{A New Web Interface for Saada}
\author{Laurent~Michel,$^1$ Gr\'egory~Mantelet,$^2$ Christian~Motch,$^1$ and Emilie~Werner$^1$
\affil{$^1$Observatoire Astronomique, 11 Rue de l'Universit\'e, 67000 Strasbourg, France}
\affil{$^2$CDS, 11 Rue de l'Universi\'te, 67000 Strasbourg, France}}

\aindex{Laurent, M.}
\aindex{Gr\'egory, M.}
\aindex{Christianl, M.}
\aindex{Emilie, W.}

\begin{abstract}
Saada\ooindex{Saada, ascl:1111.003} transforms a set of heterogeneous FITS files or VOTables of various categories (images, tables, spectra, etc.) in a powerful database deployed on the Web without writing code. Saada can mix data of various categories in multiple collections. Data collections can each be linked to others, making relevant browsing paths and allowing data-mining oriented queries. Saada supports 4 VO services (spectra, images, sources and TAP) . Data collections can be published immediately after the deployment of the Web interface. The poster presents the new the administration interface (beta) coming with Saada\ooindex{Saada, ascl:1111.003} databases. This application is much more user-friendly. It also makes the publication of data collections into the VO very easy.
\end{abstract}

\section{Introduction}
All databases generated by Saada\ooindex{Saada, ascl:1111.003} \citep{SAADA} have the same hierarchical data model. Data are organized in heterogeneous collections which can be interconnected to others by relationships. Building an administration interface for such a data set remains challenging. The difficulty here is that any action must be associated with only one data set. The binding between a data set and the active function must remain clear enough to avoid users making serious mistakes. The other guideline of this development was to help users to publish their data in the VO registry.

\begin{figure}[!h]
	\begin{center}
		\includegraphics[width=0.70\textwidth]{part8/MICHEL_P18/P18_fig1.eps}
	\end{center}
	\caption{Welcome panel of the Saada\ooindex{Saada, ascl:1111.003} administration tool}
	\label{fig:fig1}
\end{figure}

\section{Ergonomics}
The tool is divided into three panels (Figure 1). The left panel shows a tree reflecting the database content. Selecting the data set on which an action must be performed is done by clicking on the corresponding node.
A double click on a node opens a panel showing the node content. This panel includes an SQL editor allowing the user to refine data selection. The banner (Figure 2)  summarizes the current action (yellow frame) and the data node on which it is applied (blue label). It also contains two navigation buttons pointing to the previous panel and to the home panel. The right panel shows either a command panel or a set of icons opening further command panels. Each command panel has a footer bar with some action buttons (Figure 3). Possible actions are i) run the command ii) save the edited resource iii) switch the debug mode and iv) save the script file (see \S~4). Commands requiring a long execution time are handled by a distinct thread which can be controlled by a specific panel. This panel can be opened at any time with a button located below the data tree.

\begin{figure}[!h]
	\begin{center}
		\includegraphics[height=0.10\textwidth]{part8/MICHEL_P18/P18_fig2.eps}
	\end{center}
	\caption{Banner summarizing the current action and the data node on which it is applied}
	\label{fig:fig2}
\end{figure}

\begin{figure}[!h]
	\begin{center}
		\includegraphics[height=0.10\textwidth]{part8/MICHEL_P18/P18_fig3.eps}
	\end{center}
	\caption{Action bar}
	\label{fig:fig3 (fig. 4)}
\end{figure}

\section{Data Management}
\begin{enumerate}
\item Data loading is done is two steps i) a loader filter must be edited first to map Saada\ooindex{Saada, ascl:1111.003} columns onto native columns or constant values. These filters are stored on disk and can be reused at any time. ii) data loading proper is achieved by a separated thread which can be interrupted by hand. This thread is transaction safe; the database remains consistent whatever are the conditions of its interruption.
\item Each entity (data classes, data collections and relationships) can receive a description to be reported on the Web interface or into VOTables containing query results.
\item Relationships can be set between data collections. Links can be based on matching object positions on the sky or on any constraints on keywords or on both. SQL templates are provided with the query editor.
\item Meta data (UCD, UTypes, units or descriptions) can be manually added to columns descriptions of ingested products. This meta data tagging is very important to make the database VO compliant. Furthermore, the UCD/Unit pair can be used to build queries on heterogeneous data collections.
\end{enumerate}

\section{Script mode}
A novelty of this administration tool is the binding between the graphical mode and the script mode.
Since the first releases, Saada\ooindex{Saada, ascl:1111.003} can be run in a script mode based on the Ant utility\footnote{http://ant.apache.org}. This mode is very convenient for building a large or complex database in one shot. It also allows the management of a SaadaDB within a pipeline \citep{P03_adassxxii}, however, the addition of Ant configuration files is nonetheless painful. The new administration tool is now enabled to generate Ant file reflecting the current action, which can thus be replayed in script mode. All steps of a complex database building can be developed separately in graphical mode on small data samples, and then the final database can be built in script mode by assembling all Ant files.

\section{VO Publishing}
Saada\ooindex{Saada, ascl:1111.003} databases natively include three simple VO services (SIAP for images, SCS for catalogue entries and SSAP for spectra \citep{SIAP,SCS,SSAP} ). Furthermore, Saada also supports both ADQL \citep{ADQL} and UWS \citep{UWS} which are the pillars of the VO Table Access Protocol \citep{TAP} .
In other words a SaadaDB is VO ready, but publishing it in a registry \citep{REG} remains a bit difficult. Experience shows that it is more convenient to upload a valid XML file in a public publishing registry than to use usual online forms. For each data collection, the administration tool can deliver a registry file ready to be uploaded. These files contain two parts i) the authority and curation part identifying the database itself and its owner. It is common for all published data collections. ii) the extension describing the published data set which is automatically generated according to the available meta data.
The publication of a TAP service is somewhat less straightforward. The user must first select the SQL tables he/she wants to publish, Saada\ooindex{Saada, ascl:1111.003} then automatically generates a TAP schema containing meta data for all tables. 
Any Saada\ooindex{Saada, ascl:1111.003} data collection can furthermore be mapped on an ObsCore view (Figure 4). ObsCore  is a simple generic data model used to perform data discovery when querying data centers for observations of interest \citep{OBSCORE}.

\begin{figure}[!h]
	\begin{center}
		\includegraphics[width=0.60\textwidth]{part8/MICHEL_P18/P18_fig4.eps}
	\end{center}
	\caption{ObsCore mapper}
	\label{fig:fig4}
\end{figure}

\section {Conclusion and prospect}
This new interface will be officially released in the first quarter 2013.
Upcoming Saada\ooindex{Saada, ascl:1111.003} version will adopt a major evolution of the inner data model in order to make Saada databases natively closer to VO standards. Another development project targets the management of larger data collections.

\acknowledgements We would like to thank the XMM-Newton SSC team for supporting this project.

\bibliographystyle{asp2010}
\bibliography{editor}
